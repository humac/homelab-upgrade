{
  "phases": [
    {
      "id": "overview",
      "title": "Project Overview",
      "badge": "Overview",
      "icon": "ğŸ“‹",
      "meta": [],
      "content": {
        "intro": "A professional-grade 10G homelab that rivals $8,000+ commercial solutions for just <strong>$2,459</strong>.",
        "sections": [
          {
            "title": "ğŸ‰ What You're Building",
            "type": "success",
            "content": "A professional-grade 10G homelab that rivals $8,000+ commercial solutions for just <strong>$2,459</strong>."
          },
          {
            "title": "ğŸ“Š Key Improvements",
            "type": "table",
            "data": {
              "headers": [
                "Component",
                "Before",
                "After",
                "Improvement"
              ],
              "rows": [
                [
                  "NAS Storage",
                  "24TB SMR (JBOD)",
                  "36TB CMR (RAIDZ1)",
                  "+50% capacity, data protection"
                ],
                [
                  "RAM",
                  "8GB",
                  "64GB DDR5-5600",
                  "8Ã— increase, 30-40GB ZFS cache (auto-tuned)"
                ],
                [
                  "NAS â†” Server",
                  "1 Gbps",
                  "20 Gbps LACP",
                  "20Ã— faster"
                ],
                [
                  "Network Uplink",
                  "1 Gbps",
                  "10 Gbps",
                  "10Ã— faster"
                ],
                [
                  "Data Protection",
                  "None",
                  "Snapshots, replication",
                  "Enterprise-grade"
                ]
              ]
            }
          },
          {
            "title": "ğŸ’° Cost Breakdown",
            "type": "table",
            "data": {
              "headers": [
                "Item",
                "Source",
                "Cost (CAD)"
              ],
              "rows": [
                [
                  "TerraMaster F6-424 Max",
                  "FB Marketplace",
                  "$775"
                ],
                [
                  "64GB DDR5-5600 RAM",
                  "Marketplace",
                  "$400"
                ],
                [
                  "WD_BLACK SN7100 1TB NVMe",
                  "Best Buy",
                  "$119"
                ],
                [
                  "4Ã— WD Red Plus 12TB CMR",
                  "Canada Computers",
                  "$1,116"
                ],
                [
                  "UniFi USW-Aggregation",
                  "Online",
                  "$499"
                ],
                [
                  "5Ã— 10G SFP+ DAC cables",
                  "FS.com",
                  "$150"
                ],
                [
                  "QLogic 10G NIC",
                  "Owned",
                  "$0"
                ],
                [
                  "__total__",
                  "HARDWARE TOTAL",
                  "$3,059"
                ],
                [
                  "",
                  "Sell 6Ã— Seagate 8TB SMR",
                  "-$600"
                ],
                [
                  "__final__",
                  "NET COST",
                  "$2,459"
                ]
              ]
            }
          }
        ]
      }
    },
    {
      "id": "phase0",
      "title": "Pre-Migration Preparation",
      "badge": "Phase 0",
      "icon": "0",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "30 minutes"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 0 (Tonight)"
        },
        {
          "icon": "ğŸ› ï¸",
          "label": "Tools",
          "value": "PC, USB drive (8GB+)"
        }
      ],
      "content": {
        "intro": "Get everything ready before starting the hardware installation.",
        "sections": [
          {
            "title": "âœ… Hardware Checklist",
            "type": "checklist",
            "items": [
              "TerraMaster F6-424 Max received",
              "64GB DDR5-5600 RAM (1Ã— SODIMM)",
              "WD_BLACK SN7100 1TB NVMe",
              "4Ã— WD Red Plus 12TB (WD120EFBX)",
              "UniFi USW-Aggregation",
              "5Ã— 10G SFP+ DAC cables (4Ã—1m, 1Ã—0.5m)",
              "QLogic dual-10G SFP+ NIC (already owned)"
            ]
          },
          {
            "title": "ğŸ“¥ Download TrueNAS SCALE",
            "type": "info",
            "content": "<strong>Download Link:</strong> <a href='https://www.truenas.com/download-truenas-scale/' target='_blank'>https://www.truenas.com/download-truenas-scale/</a><br><strong>File:</strong> TrueNAS-SCALE-24.10.1.iso (~1.5GB)"
          },
          {
            "title": "Create Bootable USB (Windows - Rufus)",
            "type": "steps",
            "items": [
              {
                "title": "Download Rufus",
                "content": "Download Rufus from <a href='https://rufus.ie' target='_blank'>rufus.ie</a>"
              },
              {
                "title": "Insert USB Drive",
                "content": "Insert 8GB+ USB drive (will be <strong>ERASED</strong>)"
              },
              {
                "title": "Configure Rufus",
                "content": "<pre>Device: [Your USB drive]\nBoot selection: [Select] â†’ TrueNAS-SCALE-24.10.1.iso\nPartition scheme: GPT\nTarget system: UEFI\nVolume label: TrueNAS_Install</pre>"
              },
              {
                "title": "Create Installer",
                "content": "Click <strong>START</strong> â†’ Wait ~5 minutes for completion â†’ Label USB: \"TrueNAS Installer\""
              }
            ]
          },
          {
            "title": "Create Bootable USB (Mac/Linux - dd)",
            "type": "code",
            "language": "bash",
            "content": "# Find USB device (Mac)\ndiskutil list\n\n# Find USB device (Linux)\nlsblk\n\n# Unmount USB (replace /dev/sdX with your device)\nsudo umount /dev/sdX*\n\n# Write ISO to USB (âš ï¸ CAUTION: Double-check device name!)\nsudo dd if=TrueNAS-SCALE-24.10.1.iso of=/dev/sdX bs=4M status=progress\n\n# Sync and eject\nsudo sync\nsudo eject /dev/sdX"
          },
          {
            "title": "ğŸ”§ Tools Preparation",
            "type": "checklist",
            "items": [
              "Phillips #2 screwdriver",
              "Anti-static wrist strap (recommended)",
              "Keyboard + monitor (or laptop for headless)",
              "Network cables (CAT6 minimum)",
              "Password manager ready for credentials"
            ]
          },
          {
            "title": "âš ï¸ CRITICAL: Backup Verification",
            "type": "danger",
            "content": "Before proceeding, ensure your QNAP data is backed up elsewhere. This migration involves:<ul style='margin-left: 1.5rem; margin-top: 0.5rem;'><li>Creating new ZFS pool (will erase 12TB drives)</li><li>Potential network changes</li><li>Multiple system reboots</li></ul>"
          }
        ]
      }
    },
    {
      "id": "phase1",
      "title": "Hardware Installation",
      "badge": "Phase 1",
      "icon": "1",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "1 hour"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 1 (Evening)"
        },
        {
          "icon": "ğŸ› ï¸",
          "label": "Tools",
          "value": "Phillips #2 screwdriver, anti-static wrist strap"
        }
      ],
      "content": {
        "intro": "Install RAM, NVMe SSD, and hard drives into the TerraMaster unit.",
        "sections": [
          {
            "title": "âš ï¸ POWER OFF",
            "type": "danger",
            "content": "Ensure TerraMaster is completely powered off and unplugged before opening!"
          },
          {
            "title": "Step 1: Install 64GB DDR5 RAM",
            "type": "steps",
            "items": [
              {
                "title": "Open Bottom Panel",
                "content": "Remove 4Ã— Phillips screws from bottom panel â†’ Lift bottom panel straight up"
              },
              {
                "title": "Remove Existing RAM",
                "content": "Locate RAM slot near CPU â†’ Gently push clips outward on both sides â†’ Module pops up at ~30Â° angle â†’ Pull out carefully"
              },
              {
                "title": "Install 64GB SODIMM",
                "content": "Align notch with slot key â†’ Insert at 30Â° angle â†’ Press down flat until clips click"
              }
            ]
          },
          {
            "title": "âœ“ RAM Verification",
            "type": "success",
            "content": "RAM should be firmly seated with both clips engaged. Module should not move when gently pressed."
          },
          {
            "title": "Step 2: Install 1TB NVMe SSD",
            "type": "info",
            "content": "<pre>Bottom panel removed:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚         [CPU Heatsink]              â”‚\nâ”‚              â†“                      â”‚\nâ”‚         [M.2 Slot 1] â† Install here â”‚\nâ”‚                                     â”‚\nâ”‚         [M.2 Slot 2] â† Empty        â”‚\nâ”‚                                     â”‚\nâ”‚      [SATA Controller]              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>"
          },
          {
            "title": "NVMe Installation Steps",
            "type": "steps",
            "items": [
              {
                "title": "Locate M.2 Slot 1",
                "content": "Near CPU, labeled \"M.2_1\" â†’ Remove tiny M.2 mounting screw (keep safe!)"
              },
              {
                "title": "Insert NVMe",
                "content": "Insert WD_BLACK SN7100 1TB at 30Â° angle with gold contacts entering first â†’ Push into slot until fully seated â†’ Press down flat (will feel spring tension)"
              },
              {
                "title": "Secure with Screw",
                "content": "Secure with M.2 screw (hand-tight + Â¼ turn)"
              }
            ]
          },
          {
            "title": "âš ï¸ Common Mistake",
            "type": "warning",
            "content": "Don't over-tighten M.2 screw! Should be snug but not forcing the SSD."
          },
          {
            "title": "Step 3: Install Hard Drives",
            "type": "steps",
            "items": [
              {
                "title": "Prepare Drive Trays",
                "content": "Verify 6Ã— drive trays included with TerraMaster â†’ Insert each 12TB drive into tray (tool-less design - no screws needed) â†’ Slide drive in until it clicks"
              },
              {
                "title": "Install in Bays",
                "content": "Slide trays into Bays 1-4 (front to back) â†’ Push until lock mechanism clicks â†’ Leave Bays 5-6 empty (future expansion)"
              }
            ]
          },
          {
            "title": "Drive Bay Assignment",
            "type": "code",
            "language": "text",
            "content": "Bay 1: WD Red Plus 12TB #1 (sda)\nBay 2: WD Red Plus 12TB #2 (sdb)\nBay 3: WD Red Plus 12TB #3 (sdc)\nBay 4: WD Red Plus 12TB #4 (sdd)\nBay 5: Empty (future)\nBay 6: Empty (future)"
          },
          {
            "title": "âœ… Hardware Installation Checklist",
            "type": "checklist",
            "items": [
              "64GB DDR5 RAM installed and clicked into place",
              "WD_BLACK SN7100 1TB NVMe installed in M.2 Slot 1",
              "Bottom panel secured with all 4 screws",
              "4Ã— WD Red Plus 12TB installed in Bays 1-4",
              "TerraMaster powers on successfully",
              "All drives detected in BIOS/TOS"
            ]
          }
        ]
      }
    },
    {
      "id": "phase2",
      "title": "TrueNAS SCALE Installation",
      "badge": "Phase 2",
      "icon": "2",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "30 minutes"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 2 (Morning)"
        },
        {
          "icon": "ğŸ› ï¸",
          "label": "Required",
          "value": "USB installer, keyboard, monitor"
        }
      ],
      "content": {
        "intro": "Install TrueNAS SCALE operating system and configure basic settings.",
        "sections": [
          {
            "title": "Step 1: Boot from USB Installer",
            "type": "steps",
            "items": [
              {
                "title": "Insert USB and Boot",
                "content": "Insert TrueNAS USB installer into front USB port â†’ Connect keyboard + monitor â†’ Power ON TerraMaster"
              },
              {
                "title": "Access Boot Menu",
                "content": "Press <code>DEL</code> or <code>F11</code> during boot for Boot Menu â†’ Select: <strong>USB device</strong> (UEFI mode preferred)"
              }
            ]
          },
          {
            "title": "TrueNAS Installer",
            "type": "info",
            "content": "TrueNAS installer will load with a blue/white text interface."
          },
          {
            "title": "Step 2: Install TrueNAS to NVMe",
            "type": "code",
            "language": "text",
            "content": "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ TrueNAS SCALE Installer             â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 1. Install/Upgrade                  â”‚\nâ”‚ 2. Shell                            â”‚\nâ”‚ 3. Reboot                           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nSelect: 1. Install/Upgrade"
          },
          {
            "title": "Installation Process",
            "type": "steps",
            "items": [
              {
                "title": "Choose Destination",
                "content": "Choose <strong>1. Install/Upgrade</strong> â†’ Destination: <code>/dev/nvme0n1</code> (1TB WD SN7100) âœ“"
              },
              {
                "title": "Confirm Erase",
                "content": "WARNING dialog: \"This will ERASE disk\" â†’ Select <strong>YES</strong>"
              },
              {
                "title": "Set Root Password",
                "content": "Choose a strong password (min 8 characters) â†’ Save in password manager!"
              },
              {
                "title": "Complete Installation",
                "content": "Installation proceeds (~5 minutes) â†’ When complete: Remove USB drive â†’ Select <strong>3. Reboot</strong>"
              }
            ]
          },
          {
            "title": "âœ“ Installation Success",
            "type": "success",
            "content": "TrueNAS will boot from M.2 NVMe and show IP address on console."
          },
          {
            "title": "Step 3: Initial Web Interface Setup",
            "type": "steps",
            "items": [
              {
                "title": "Access Web Interface",
                "content": "Note IP address shown on console (e.g., 10.20.30.50 via DHCP) â†’ From your PC, open browser: <code>http://truenas-ip</code> â†’ Login: <code>root</code> / your-password"
              }
            ]
          },
          {
            "title": "Step 4: Configure Static IP",
            "type": "danger",
            "content": "<strong>CRITICAL:</strong> Write down your current IP before changing! If you lose access, connect monitor to console."
          },
          {
            "title": "Global Configuration",
            "type": "code",
            "language": "text",
            "content": "Network â†’ Global Configuration\n\nHostname: truenas\nDomain: local\n\nDefault Gateway: 10.20.30.1\nDNS Servers: 10.20.30.1\n\nSave"
          },
          {
            "title": "Interface Configuration",
            "type": "code",
            "language": "text",
            "content": "Network â†’ Interfaces â†’ enp1s0 (Edit)\n\nType: Static\nIP Address: 10.20.30.100\nNetmask: 255.255.255.0 (/24)\n\nâœ“ DHCP: Disabled\n\nTest Changes (60 seconds)\nâ†’ Verify you can still access http://10.20.30.100\nâ†’ Save Changes Permanently"
          },
          {
            "title": "âš ï¸ Test Period Warning",
            "type": "warning",
            "content": "You have 60 seconds to verify access at new IP. If you don't click \"Save Changes Permanently\", settings will revert!"
          },
          {
            "title": "Step 5: Create Admin User (CRITICAL - UID 1000)",
            "type": "danger",
            "content": "<strong>âš ï¸ DO THIS FIRST:</strong> Create your personal admin user <strong>before</strong> creating any datasets! User ID 1000 is important for permissions."
          },
          {
            "title": "User Creation",
            "type": "code",
            "language": "text",
            "content": "Accounts â†’ Users â†’ Add\n\nFull Name: Huy Nguyen\nUsername: huynguyen\nUser ID: 1000  â† IMPORTANT! Must be 1000\nCreate New Primary Group: âœ“\nGroup ID: 1000 â† Auto-fills\n\nPassword: [your secure password]\nConfirm Password: [same password]\n\nHome Directory: /nonexistent\nShell: nologin\n\nâœ“ Disable Password: NO\n\nSave"
          },
          {
            "title": "âœ“ User Created",
            "type": "success",
            "content": "This creates user <strong>huynguyen</strong> (1000:1000) which will own all your datasets and app data."
          },
          {
            "title": "Step 6: System Updates",
            "type": "code",
            "language": "text",
            "content": "System â†’ Update\n\nCheck for Updates\n\nIf updates available:\nâ†’ Download\nâ†’ Apply (system will reboot)\nâ†’ Wait ~5 minutes\nâ†’ Verify at http://10.20.30.100"
          },
          {
            "title": "âœ… TrueNAS Setup Checklist",
            "type": "checklist",
            "items": [
              "TrueNAS installed to /dev/nvme0n1 successfully",
              "Static IP set to 10.20.30.100",
              "Gateway configured: 10.20.30.1",
              "User huynguyen created with UID/GID 1000",
              "System updated to latest version",
              "Web GUI accessible at http://10.20.30.100"
            ]
          }
        ]
      }
    },
    {
      "id": "phase2-5",
      "title": "Initial Network Connectivity",
      "badge": "Phase 2.5",
      "icon": "ğŸ”Œ",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "15 minutes"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 2 (Before Phase 3)"
        }
      ],
      "content": {
        "intro": "Verify basic network connectivity and update TrueNAS before proceeding to storage configuration.",
        "sections": [
          {
            "title": "Network Verification",
            "type": "checklist",
            "items": [
              "Ping gateway: ping 10.20.30.1",
              "Ping internet: ping 8.8.8.8",
              "Test DNS: nslookup truenas.com",
              "Verify web GUI access from PC",
              "Check system logs for errors"
            ]
          },
          {
            "title": "System Updates",
            "type": "steps",
            "items": [
              {
                "title": "Update TrueNAS",
                "content": "Navigate to System â†’ Update, check for updates, download and install if available. System will reboot (~5 minutes)."
              },
              {
                "title": "Verify Services",
                "content": "After reboot, confirm all services started: System â†’ Services. SSH should be enabled for future troubleshooting."
              }
            ]
          }
        ]
      }
    },
    {
      "id": "phase3",
      "title": "ZFS Storage Configuration",
      "badge": "Phase 3",
      "icon": "3",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "1 hour"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 2 (Morning)"
        }
      ],
      "content": {
        "intro": "Create ZFS pools and datasets for optimal performance and organization.",
        "sections": [
          {
            "title": "âš ï¸ CRITICAL: NVMe Boot Pool Protection",
            "type": "danger",
            "content": "Before creating apps-ssd pool, verify boot pool location: <code>zpool status boot-pool</code> and <code>lsblk /dev/nvme0n1</code>. Ensure you ONLY use free space (typically nvme0n1p3). DO NOT accidentally erase boot-pool!"
          },
          {
            "title": "ğŸ“Š Storage Strategy",
            "type": "info",
            "content": "<strong>Two-Pool Design for Optimal Performance:</strong><br>â€¢ <strong>tank</strong> (HDD RAIDZ1): Bulk storage for media, photos, documents (36TB usable)<br>â€¢ <strong>apps-ssd</strong> (NVMe): Fast storage for app configs, databases, transcode cache (~900GB usable)"
          },
          {
            "title": "Pool Comparison",
            "type": "table",
            "data": {
              "headers": [
                "Pool",
                "Devices",
                "Capacity",
                "Speed",
                "Purpose"
              ],
              "rows": [
                [
                  "tank",
                  "4Ã— 12TB HDD RAIDZ1",
                  "~36TB usable",
                  "~1,200 MB/s read",
                  "Media, photos, documents, backups"
                ],
                [
                  "apps-ssd",
                  "1Ã— 1TB NVMe",
                  "~900GB usable",
                  "~7,000 MB/s read",
                  "App configs, databases, transcode"
                ]
              ]
            }
          },
          {
            "title": "ğŸš¨ POINT OF NO RETURN",
            "type": "danger",
            "content": "<strong>WARNING: Creating ZFS pools ERASES ALL DATA on those drives!</strong><br><br>Before running 'zpool create tank raidz1 /dev/sd[abcd]':<br>âœ“ Triple-check device names: <code>lsblk</code><br>âœ“ Verify no mounted filesystems: <code>mount | grep sd</code><br>âœ“ Confirm backup exists elsewhere<br>âœ“ Take photos of disk serial numbers<br><br>This operation is IRREVERSIBLE!"
          },
          {
            "title": "Step 1: Create Pool 'tank' (HDD RAIDZ1)",
            "type": "code",
            "language": "text",
            "content": "TrueNAS Web GUI: Storage â†’ Create Pool\n\nName: tank\n\nLayout:\nâ”œâ”€â”€ Data VDev: RAIDZ1\nâ”‚   â”œâ”€â”€ /dev/sda (12TB WD Red Plus #1)\nâ”‚   â”œâ”€â”€ /dev/sdb (12TB WD Red Plus #2)\nâ”‚   â”œâ”€â”€ /dev/sdc (12TB WD Red Plus #3)\nâ”‚   â””â”€â”€ /dev/sdd (12TB WD Red Plus #4)\n\nSettings:\nâ”œâ”€â”€ Dataset Preset: Generic\nâ”œâ”€â”€ Compression: lz4 (default âœ“)\nâ”œâ”€â”€ Encryption: DISABLED (recommended for simplicity)\nâ””â”€â”€ ashift: 12 (4K sectors, auto-detected)\n\nCreate\n\nResult:\nâ€¢ Raw: 48TB (4Ã—12TB)\nâ€¢ Parity: 12TB (1 drive RAIDZ1)\nâ€¢ Usable: ~36TB (after ZFS overhead)\nâ€¢ Compression: +10-15% effective (~42TB)"
          },
          {
            "title": "Step 2: Create Pool 'apps-ssd' (NVMe)",
            "type": "warning",
            "content": "<strong>CRITICAL:</strong> The NVMe drive already has a boot pool partition. We'll create the apps pool on the REMAINING free space."
          },
          {
            "title": "Check NVMe Available Space",
            "type": "code",
            "language": "bash",
            "content": "# TrueNAS Shell - List NVMe partitions\nlsblk /dev/nvme0n1\n\n# You should see something like:\n# nvme0n1           931.5G\n# â”œâ”€nvme0n1p1        512M   (EFI)\n# â”œâ”€nvme0n1p2         16G   (boot pool)\n# â””â”€nvme0n1p3        915G   (FREE SPACE - we'll use this)\n\n# Note: Partition numbers may vary, look for the large free partition"
          },
          {
            "title": "Create apps-ssd Pool",
            "type": "code",
            "language": "text",
            "content": "Storage â†’ Create Pool â†’ apps-ssd\n\nName: apps-ssd\n\nLayout:\nâ”œâ”€â”€ Data VDev: Single Disk (no redundancy)\nâ”‚   â””â”€â”€ /dev/nvme0n1p3 (or available NVMe partition)\nâ”‚       Note: Select the LARGE partition (~900GB+)\nâ”‚             NOT the boot pool partition!\n\nSettings:\nâ”œâ”€â”€ Dataset Preset: Apps\nâ”œâ”€â”€ Compression: lz4\nâ””â”€â”€ Purpose: App configs, databases, transcode cache\n\nWarning Acknowledgment:\nâ˜‘ I understand this pool has no redundancy\n   (Acceptable - apps can be reinstalled, data is on tank)\n\nCreate\n\nResult:\nâ€¢ Usable: ~900GB (after boot pool space)\nâ€¢ Speed: 7,000+ MB/s sequential read\nâ€¢ Use: Plex config/transcode, Immich DB, etc."
          },
          {
            "title": "âœ“ Why Two Pools?",
            "type": "success",
            "content": "<strong>Performance:</strong> App databases get NVMe speeds (7,000 MB/s vs 1,200 MB/s)<br><strong>I/O separation:</strong> Plex transcoding doesn't impact media reads<br><strong>Acceptable risk:</strong> App configs backed up to tank, can reinstall if NVMe fails"
          },
          {
            "title": "Step 3: ZFS ARC Auto-Tuning (SCALE Feature)",
            "type": "success",
            "content": "<strong>âœ“ No manual tuning needed!</strong><br>TrueNAS SCALE automatically manages ZFS ARC cache. With 64GB RAM, the system will dynamically allocate 30-40GB to ARC and automatically balance with app memory needs."
          },
          {
            "title": "How Auto-Tuning Works",
            "type": "info",
            "content": "<strong>SCALE's auto-tuning:</strong><br>â€¢ Monitors system memory pressure in real-time<br>â€¢ Adjusts ARC size based on app demands (Kubernetes, VMs)<br>â€¢ Typically allocates 50-60% of total RAM to ARC<br>â€¢ Shrinks ARC when apps need more memory<br>â€¢ Grows ARC when memory is available<br><br><strong>Expected with 64GB:</strong> ~32-38GB ARC, dynamically adjusted<br><strong>Result:</strong> 90%+ cache hit rate on typical homelab workloads"
          },
          {
            "title": "âš ï¸ Don't Manually Tune ARC!",
            "type": "warning",
            "content": "Manual ARC limits (vfs.zfs.arc.max/min) can prevent optimal memory management. Only set manual limits if you have specific advanced requirements."
          },
          {
            "title": "Monitor ARC Usage",
            "type": "code",
            "language": "bash",
            "content": "# Check ARC statistics (after system warms up)\narc_summary\n\n# Look for:\n# - ARC size: Should be 30-40GB after warm-up\n# - Hit rate: Should be 85-95%+ for typical use\n# - Most Frequently Used (MFU): Your hot data\n\n# Quick check\ngrep -E \"arc_.*size|hit\" /proc/spl/kstat/zfs/arcstats"
          },
          {
            "title": "Step 4: Create Datasets on 'tank' (HDD Pool)",
            "type": "code",
            "language": "text",
            "content": "Dataset Structure for Media Storage:\n\ntank/\nâ”œâ”€â”€ media/\nâ”‚   â”œâ”€â”€ movies/          (Plex movies - 1M recordsize)\nâ”‚   â””â”€â”€ tv/              (Plex TV shows - 1M recordsize)\nâ”œâ”€â”€ photos/              (Immich library - 128K recordsize)\nâ”œâ”€â”€ documents/           (Nextcloud data - 128K recordsize)\nâ”œâ”€â”€ downloads/\nâ”‚   â”œâ”€â”€ incomplete/      (SABnzbd temp - 1M recordsize)\nâ”‚   â””â”€â”€ completed/       (SABnzbd finished - 1M recordsize)\nâ”œâ”€â”€ backups/             (System/VM backups - 1M + gzip-6)\nâ””â”€â”€ isos/                (Proxmox ISOs - 1M recordsize)\n\nNote: NO apps dataset here - apps are on apps-ssd pool!"
          },
          {
            "title": "Create Each Dataset (Detailed)",
            "type": "code",
            "language": "text",
            "content": "Storage â†’ tank â†’ Add Dataset\n\nDataset 1: media\nâ”œâ”€â”€ Name: media\nâ”œâ”€â”€ Record Size: 1M (large video files)\nâ”œâ”€â”€ Compression: lz4\nâ”œâ”€â”€ Owner: huynguyen:huynguyen (1000:1000)\nâ””â”€â”€ Permissions: 755 (rwxr-xr-x)\n\nDataset 2: photos\nâ”œâ”€â”€ Name: photos\nâ”œâ”€â”€ Record Size: 128K (photo files)\nâ”œâ”€â”€ Compression: lz4\nâ”œâ”€â”€ Owner: huynguyen:huynguyen\nâ””â”€â”€ Permissions: 755\n\nDataset 3: documents\nâ”œâ”€â”€ Name: documents\nâ”œâ”€â”€ Record Size: 128K\nâ”œâ”€â”€ Compression: lz4\nâ”œâ”€â”€ Owner: huynguyen:huynguyen\nâ””â”€â”€ Permissions: 755\n\nDataset 4: downloads\nâ”œâ”€â”€ Name: downloads\nâ”œâ”€â”€ Record Size: 1M\nâ””â”€â”€ Create child datasets:\n    â€¢ downloads/incomplete\n    â€¢ downloads/completed\n\nDataset 5: backups\nâ”œâ”€â”€ Name: backups\nâ”œâ”€â”€ Record Size: 1M\nâ”œâ”€â”€ Compression: gzip-6 (higher compression for backups)\nâ””â”€â”€ Permissions: 700 (restricted)\n\nDataset 6: isos\nâ”œâ”€â”€ Name: isos\nâ”œâ”€â”€ Record Size: 1M (ISO files)\nâ””â”€â”€ Owner: huynguyen:huynguyen"
          },
          {
            "title": "Step 5: Create Datasets on 'apps-ssd' (NVMe Pool)",
            "type": "code",
            "language": "text",
            "content": "Dataset Structure for Applications:\n\napps-ssd/\nâ”œâ”€â”€ plex/\nâ”‚   â”œâ”€â”€ config/          (Plex metadata, libraries)\nâ”‚   â””â”€â”€ transcode/       (Temp transcoding - FAST!)\nâ”œâ”€â”€ immich/\nâ”‚   â”œâ”€â”€ database/        (PostgreSQL DB)\nâ”‚   â””â”€â”€ cache/           (ML models, thumbnails)\nâ”œâ”€â”€ nextcloud/\nâ”‚   â”œâ”€â”€ app/             (Nextcloud app files)\nâ”‚   â””â”€â”€ database/        (PostgreSQL DB)\nâ”œâ”€â”€ arr-stack/\nâ”‚   â”œâ”€â”€ sonarr/          (Sonarr config)\nâ”‚   â”œâ”€â”€ radarr/          (Radarr config)\nâ”‚   â”œâ”€â”€ prowlarr/        (Prowlarr config)\nâ”‚   â”œâ”€â”€ sabnzbd/         (SABnzbd config)\nâ”‚   â””â”€â”€ overseerr/       (Overseerr config)\nâ””â”€â”€ scrypted/            (Scrypted NVR config)\n\nAll on FAST NVMe for optimal app performance!"
          },
          {
            "title": "Create App Datasets (Detailed)",
            "type": "code",
            "language": "text",
            "content": "Storage â†’ apps-ssd â†’ Add Dataset\n\nDataset: plex\nâ”œâ”€â”€ Name: plex\nâ”œâ”€â”€ Record Size: 128K (mixed small files)\nâ”œâ”€â”€ Compression: lz4\nâ”œâ”€â”€ Owner: huynguyen:huynguyen\nâ””â”€â”€ Child datasets:\n    â€¢ plex/config\n    â€¢ plex/transcode\n\nDataset: immich\nâ”œâ”€â”€ Name: immich\nâ”œâ”€â”€ Record Size: 128K\nâ”œâ”€â”€ Child datasets:\n    â€¢ immich/database\n    â€¢ immich/cache\n\nDataset: nextcloud\nâ”œâ”€â”€ Name: nextcloud\nâ”œâ”€â”€ Record Size: 128K\nâ”œâ”€â”€ Child datasets:\n    â€¢ nextcloud/app\n    â€¢ nextcloud/database\n\nDataset: arr-stack\nâ”œâ”€â”€ Name: arr-stack\nâ”œâ”€â”€ Record Size: 128K\nâ”œâ”€â”€ Child datasets:\n    â€¢ arr-stack/sonarr\n    â€¢ arr-stack/radarr\n    â€¢ arr-stack/prowlarr\n    â€¢ arr-stack/sabnzbd\n    â€¢ arr-stack/overseerr\n\nDataset: scrypted\nâ”œâ”€â”€ Name: scrypted\nâ”œâ”€â”€ Record Size: 128K\n\nAll datasets owned by huynguyen:huynguyen (1000:1000)"
          },
          {
            "title": "âœ“ Performance Impact",
            "type": "success",
            "content": "â€¢ Plex transcoding: 6,000+ MB/s (vs 900 MB/s on HDD)<br>â€¢ Immich ML processing: 7Ã— faster database queries<br>â€¢ App responsiveness: Near-instant config reads"
          },
          {
            "title": "âœ… ZFS Storage Checklist",
            "type": "checklist",
            "items": [
              "Pool 'tank' created (4Ã— 12TB RAIDZ1, ~36TB usable)",
              "Pool 'apps-ssd' created (NVMe, ~900GB usable)",
              "tank/media dataset created (1M recordsize)",
              "tank/photos dataset created (128K recordsize)",
              "tank/documents dataset created",
              "tank/downloads dataset created (with incomplete/completed)",
              "tank/backups dataset created (gzip-6 compression)",
              "tank/isos dataset created",
              "apps-ssd/plex datasets created (config + transcode)",
              "apps-ssd/immich datasets created (database + cache)",
              "apps-ssd/nextcloud datasets created",
              "apps-ssd/arr-stack datasets created (all 5 apps)",
              "apps-ssd/scrypted dataset created",
              "All datasets owned by huynguyen:huynguyen (1000:1000)",
              "ZFS ARC auto-tuning verified (no manual tunables set)"
            ]
          }
        ]
      }
    },
    {
      "id": "phase4",
      "title": "10G Network Configuration",
      "badge": "Phase 4",
      "icon": "4",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "2-3 hours"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 3"
        },
        {
          "icon": "ğŸ› ï¸",
          "label": "Required",
          "value": "USW-Aggregation, 5Ã— DAC cables, QLogic NIC"
        }
      ],
      "content": {
        "intro": "Set up 10G networking with LACP bonding for 20 Gbps aggregate bandwidth.",
        "sections": [
          {
            "title": "Network Setup",
            "type": "steps",
            "items": [
              {
                "title": "Baseline 10G Test (BEFORE LACP)",
                "content": "Connect SINGLE cable TerraMaster Port 1 â†’ USW Port 2. Verify 10G link speed. Run iperf3 single stream test (~9.4 Gbps expected). This confirms cabling/NICs work before LACP complexity."
              },
              {
                "title": "Install USW-Aggregation",
                "content": "Rack mount switch, connect to UDM, adopt in UniFi controller."
              },
              {
                "title": "Create Link Aggregation Groups",
                "content": "LAG1 for TerraMaster (Ports 2-3), LAG2 for Proxmox (Ports 4-5)."
              },
              {
                "title": "Configure TrueNAS LACP Bond",
                "content": "Create bond0 with 2Ã—10G interfaces, set MTU 9000."
              },
              {
                "title": "Configure Proxmox LACP Bond",
                "content": "Install QLogic NIC, configure bond0 with LACP."
              },
              {
                "title": "Performance Test",
                "content": "Run iperf3 test, verify 18-20 Gbps aggregate bandwidth."
              }
            ]
          }
        ]
      }
    },
    {
      "id": "phase5",
      "title": "VLAN & Firewall Configuration",
      "badge": "Phase 5",
      "icon": "5",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "1 hour"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 3 (Afternoon)"
        }
      ],
      "content": {
        "intro": "Configure VLANs and firewall rules for network segmentation and security.",
        "sections": [
          {
            "title": "VLAN Structure",
            "type": "table",
            "data": {
              "headers": [
                "VLAN",
                "Name",
                "Subnet",
                "Purpose"
              ],
              "rows": [
                [
                  "1",
                  "Admin",
                  "10.20.30.0/24",
                  "Infrastructure management"
                ],
                [
                  "30",
                  "Home",
                  "10.0.30.0/24",
                  "Trusted devices"
                ],
                [
                  "20",
                  "IoT",
                  "10.0.20.0/24",
                  "Smart home devices"
                ],
                [
                  "40",
                  "Guest",
                  "10.0.40.0/24",
                  "Guest WiFi (isolated)"
                ]
              ]
            }
          },
          {
            "title": "âš ï¸ Backup Plan for VLAN Changes",
            "type": "warning",
            "content": "<strong>VLAN changes can cause loss of connectivity!</strong><br><br>Before starting:<br>âœ“ Have console/keyboard access ready<br>âœ“ Document rollback command: <code>ip addr add 10.20.30.100/24 dev enp1s0</code><br>âœ“ Test VLAN access BEFORE removing native VLAN 1<br>âœ“ Consider: Keep TrueNAS on Admin VLAN 1 (untagged) for simplicity"
          },
          {
            "title": "Firewall Rules",
            "type": "info",
            "content": "Configure rules to allow Home â†’ NAS services, block Home â†’ Infrastructure, allow IoT backups, complete guest isolation."
          }
        ]
      }
    },
    {
      "id": "phase6",
      "title": "Data Migration from QNAP",
      "badge": "Phase 6",
      "icon": "6",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "8-12 hours"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 4"
        },
        {
          "icon": "ğŸ’¾",
          "label": "Data",
          "value": "~24TB total"
        }
      ],
      "content": {
        "intro": "Migrate all data from QNAP to TrueNAS using parallel rsync for maximum speed.",
        "sections": [
          {
            "title": "Pre-Migration Validation (CRITICAL)",
            "type": "checklist",
            "items": [
              "Run QNAP SMART tests on all 6 drives",
              "Check QNAP filesystem errors: dmesg | grep -i error",
              "Verify QNAP RAID is healthy",
              "Document file counts: find /share -type f | wc -l",
              "Create checksums for critical data",
              "VERIFY external backup exists"
            ]
          },
          {
            "title": "Migration Strategy",
            "type": "info",
            "content": "Run 4 parallel rsync jobs (movies, TV, photos, documents) to maximize bandwidth utilization. Expected: ~150 MB/s per stream, ~10 hours total."
          },
          {
            "title": "Migration Steps",
            "type": "steps",
            "items": [
              {
                "title": "Enable SSH on QNAP",
                "content": "Enable SSH access for rsync transfers."
              },
              {
                "title": "Monitor QNAP CPU Load",
                "content": "Start with 2 parallel streams (movies + TV). Monitor QNAP CPU with 'top'. If CPU < 80%, add 3rd stream. If CPU < 85%, add 4th. QNAP Atom CPU may throttle at 90-95%."
              },
              {
                "title": "Set Up Screen Sessions",
                "content": "Create 4 screen sessions for parallel transfers."
              },
              {
                "title": "Start Parallel Transfers",
                "content": "Launch rsync jobs for movies, TV shows, photos, and documents simultaneously."
              },
              {
                "title": "Monitor Progress",
                "content": "Check transfer speeds and completion status."
              },
              {
                "title": "Verify Data",
                "content": "Compare file counts and sizes, spot-check random files."
              }
            ]
          }
        ]
      }
    },
    {
      "id": "phase6-5",
      "title": "Post-Migration Data Validation",
      "badge": "Phase 6.5",
      "icon": "âœ“",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "1 hour"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 4 (After migration)"
        }
      ],
      "content": {
        "intro": "Verify data integrity and completeness after migration from QNAP.",
        "sections": [
          {
            "title": "Data Integrity Verification",
            "type": "checklist",
            "items": [
              "Compare file counts (source vs destination)",
              "Verify checksums for critical data (photos, documents)",
              "Spot-check 20+ random files across all datasets",
              "Test file access: Play random movie, open photos",
              "Check ownership: ls -la /mnt/tank/media",
              "Verify no permission errors in TrueNAS logs",
              "Compare total disk usage: du -sh on both systems"
            ]
          },
          {
            "title": "Functional Testing",
            "type": "steps",
            "items": [
              {
                "title": "Test Media Playback",
                "content": "Open 5+ random video files. Verify they play without corruption. Check audio sync and video quality."
              },
              {
                "title": "Test Document Access",
                "content": "Open 10+ random documents (PDFs, Office files). Verify no corruption or missing content."
              },
              {
                "title": "Test Photo Library",
                "content": "Browse photo directories. Open random images. Verify thumbnails generate correctly."
              }
            ]
          },
          {
            "title": "âš ï¸ DO NOT Proceed Until",
            "type": "danger",
            "content": "âœ“ All file counts match<br>âœ“ No rsync errors in logs<br>âœ“ Random file spot-checks pass<br>âœ“ TrueNAS shows no errors<br><br><strong>Keep QNAP powered on and data intact for at least 7 days as insurance!</strong>"
          }
        ]
      }
    },
    {
      "id": "phase7",
      "title": "Performance Testing & Validation",
      "badge": "Phase 7",
      "icon": "7",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "1 hour"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 5"
        }
      ],
      "content": {
        "intro": "Validate system performance and ensure all components meet specifications.",
        "sections": [
          {
            "title": "Success Criteria",
            "type": "checklist",
            "items": [
              "Network (iperf3): 18-20 Gbps aggregate TrueNAS â†” Proxmox",
              "ZFS Read: ~1,200 MB/s (cache miss), ~12,000 MB/s (ARC cache hit)",
              "ZFS Write: ~900 MB/s (RAIDZ1 disk-limited)",
              "LACP Bonds: Both showing Aggregator ID 1, 2Ã—10G active",
              "ZFS ARC: 30-40GB allocated, 90%+ hit rate"
            ]
          },
          {
            "title": "Extended Burn-In Testing (Recommended)",
            "type": "info",
            "content": "<strong>Optional but highly recommended for production use:</strong><br><br>âœ“ Run iperf3 for 1 hour continuous (stability test)<br>âœ“ Run fio disk stress test: 24 hours<br>âœ“ Monitor drive temps during heavy I/O (should stay < 50Â°C)<br>âœ“ Verify ZFS scrub completes without errors<br>âœ“ Check kernel errors: <code>dmesg | grep -i error</code><br><br>This catches infant mortality failures before you rely on the system."
          }
        ]
      }
    },
    {
      "id": "phase8",
      "title": "Monitoring & Maintenance Setup",
      "badge": "Phase 8",
      "icon": "8",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "1 hour"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "Day 5+"
        }
      ],
      "content": {
        "intro": "Configure automated tasks and monitoring for long-term reliability.",
        "sections": [
          {
            "title": "Automated Tasks",
            "type": "info",
            "content": "<strong>SMART Tests:</strong> Weekly long tests (Sunday 2 AM)<br><strong>ZFS Scrubs:</strong> Monthly integrity checks<br><strong>Snapshots:</strong> Photos hourly (30-day), Media daily (7-day), Documents 6-hourly (60-day)<br><strong>Email Alerts:</strong> Pool status, SMART failures, high temps"
          },
          {
            "title": "Critical: TrueNAS Config Backup",
            "type": "checklist",
            "items": [
              "System â†’ General â†’ Save Config â†’ Download .tar file",
              "Store config on: External drive + cloud + Proxmox",
              "Export pool info: zpool export tank (for disaster recovery docs)",
              "Document: Pool creation commands, dataset structure",
              "Schedule: Weekly config backups to /mnt/tank/backups/",
              "Test: Restore config on test VM to verify backup works"
            ]
          },
          {
            "title": "Final Validation",
            "type": "checklist",
            "items": [
              "Network: 18-20 Gbps verified âœ“",
              "ZFS ARC: 30-40GB auto-allocated, 90%+ hit rate",
              "All 24TB data migrated and verified",
              "SMART tests scheduled",
              "ZFS scrubs scheduled",
              "Automated snapshots configured",
              "Email alerts configured and tested"
            ]
          }
        ]
      }
    },
    {
      "id": "phase9",
      "title": "QNAP Decommissioning",
      "badge": "Phase 9",
      "icon": "9",
      "meta": [
        {
          "icon": "â±ï¸",
          "label": "Time",
          "value": "2 hours"
        },
        {
          "icon": "ğŸ“…",
          "label": "When",
          "value": "After 7+ days stable operation"
        }
      ],
      "content": {
        "intro": "Safely decommission the QNAP after confirming TrueNAS is stable and all data is verified.",
        "sections": [
          {
            "title": "âš ï¸ Wait Period Required",
            "type": "warning",
            "content": "<strong>DO NOT decommission QNAP until:</strong><br>âœ“ TrueNAS has been stable for 7+ days<br>âœ“ You've accessed files daily without issues<br>âœ“ All services (Plex, etc.) work correctly<br>âœ“ You're 100% confident data is intact<br><br>The QNAP is your insurance policy - don't rush this!"
          },
          {
            "title": "Final Backup (Paranoia Backup)",
            "type": "checklist",
            "items": [
              "One final checksum verification of critical files",
              "Document any files you intentionally didn't migrate",
              "Export QNAP configuration for records",
              "Take screenshots of QNAP setup for documentation",
              "Verify you have TrueNAS config backups elsewhere"
            ]
          },
          {
            "title": "Decommissioning Steps",
            "type": "steps",
            "items": [
              {
                "title": "Update Client Mount Points",
                "content": "Update all devices pointing to QNAP NFS/SMB shares to use TrueNAS (10.20.30.100) instead. Test each client."
              },
              {
                "title": "Update Documentation",
                "content": "Update network diagrams, wiki pages, configuration management with new TrueNAS paths and IPs."
              },
              {
                "title": "Power Down QNAP",
                "content": "Gracefully shut down QNAP from web interface. Wait 7 more days with it powered off but data intact."
              },
              {
                "title": "Wipe QNAP Drives",
                "content": "After 14 days total, securely wipe QNAP drives if selling/repurposing: <code>dd if=/dev/zero of=/dev/sdX bs=1M</code>"
              },
              {
                "title": "Sell or Repurpose QNAP",
                "content": "List on eBay/Craigslist. Expected value: $200-$300. Alternatively, repurpose as backup NAS or test system."
              }
            ]
          },
          {
            "title": "âœ… Upgrade Complete!",
            "type": "success",
            "content": "<strong>Congratulations! You've successfully upgraded to a professional 10G homelab!</strong><br><br>âœ“ 36TB ZFS RAIDZ1 with enterprise-grade protection<br>âœ“ 64GB RAM with 30-40GB ZFS ARC cache<br>âœ“ 20 Gbps LACP aggregate bandwidth<br>âœ“ Professional network segmentation<br>âœ“ Automated monitoring and backups<br><br><strong>Total investment: $2,459 CAD (after selling QNAP)</strong><br>Equivalent commercial solution: $8,000+<br><br>ğŸ‰ Enjoy your new infrastructure!"
          }
        ]
      }
    },
    {
      "id": "diagrams",
      "title": "Architecture Diagrams",
      "badge": "Reference",
      "icon": "ğŸ“Š",
      "meta": [],
      "content": {
        "intro": "Comprehensive visual reference for physical infrastructure, network topology, and application architecture.",
        "sections": [
          {
            "title": "Physical Infrastructure Architecture",
            "type": "info",
            "content": "Complete hardware topology showing TerraMaster F6-424 Max, Dell R730xd, UniFi networking equipment, and all 10G connections with LACP bonding."
          },
          {
            "title": "",
            "type": "html",
            "content": "<div style='text-align: center; margin: 20px 0;'><img src='diagrams/physical-architecture.svg' alt='Physical Architecture Diagram' style='max-width: 100%; height: auto; border: 2px solid #4a5568; border-radius: 8px;'/></div>"
          },
          {
            "title": "Network Topology & VLAN Architecture",
            "type": "info",
            "content": "Detailed network segmentation with 4 VLANs: Admin (VLAN 1), IoT (VLAN 20), Home (VLAN 30), and Guest (VLAN 40). Shows service placement, firewall rules, and access policies."
          },
          {
            "title": "",
            "type": "html",
            "content": "<div style='text-align: center; margin: 20px 0;'><img src='diagrams/network-topology.svg' alt='Network Topology Diagram' style='max-width: 100%; height: auto; border: 2px solid #4a5568; border-radius: 8px;'/></div>"
          },
          {
            "title": "Application & Service Architecture",
            "type": "info",
            "content": "5-layer architecture from hardware to user management. Shows all applications (Nextcloud, Immich, Jellyfin, etc.), ZFS datasets, and the recommended user management strategy with app-level authentication."
          },
          {
            "title": "",
            "type": "html",
            "content": "<div style='text-align: center; margin: 20px 0;'><img src='diagrams/application-architecture.svg' alt='Application Architecture Diagram' style='max-width: 100%; height: auto; border: 2px solid #4a5568; border-radius: 8px;'/></div>"
          },
          {
            "title": "DAC Cable Assignment Reference",
            "type": "table",
            "data": {
              "headers": [
                "Cable",
                "From",
                "To",
                "Purpose"
              ],
              "rows": [
                [
                  "0.5m DAC",
                  "UDM Port 10",
                  "USW Port 1",
                  "Uplink (10G)"
                ],
                [
                  "1m DAC #1",
                  "TerraMaster Port 1",
                  "USW Port 2",
                  "LAG1 Member 1"
                ],
                [
                  "1m DAC #2",
                  "TerraMaster Port 2",
                  "USW Port 3",
                  "LAG1 Member 2"
                ],
                [
                  "1m DAC #3",
                  "Dell QLogic Port A",
                  "USW Port 4",
                  "LAG2 Member 1"
                ],
                [
                  "1m DAC #4",
                  "Dell QLogic Port B",
                  "USW Port 5",
                  "LAG2 Member 2"
                ]
              ]
            }
          },
          {
            "title": "Key Architecture Decisions",
            "type": "success",
            "content": "**User Management:** App-level authentication (not OS users) â€¢ **Storage:** ZFS with RAIDZ1 + NVMe L2ARC â€¢ **Network:** LACP bonding for 20 Gbps aggregate bandwidth â€¢ **Apps:** Docker containers with internal user databases â€¢ **Security:** VLAN segmentation with firewall rules"
          }
        ]
      }
    }
  ]
}